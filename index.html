<!DOCTYPE HTML>
<html>
  <head>
    <title>English Thingy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

  </head>
  <body>
    <div class = "container-fluid">
      <div class = "row">
        <p class = "text text-center text-primary" id ="test"></p>
        <div class = "col-12"> 
          <canvas id = "first-canvas"></canvas>
          </div>
      </div>
    </div>
    <script>
		[
        	"first-canvas",
          	"test",
        ].forEach(id => {
			const words = id.split("-");
            if (!words.length) return;
            let str = words.splice(0, 1)[0];
            words.forEach(word => {
            	str += word[0].toUpperCase() + word.slice(1);
            });
            window[str] = document.getElementById(id);
        });
        firstCanvas.width = innerWidth;
        firstCanvas.height = innerHeight;
        const ctx = firstCanvas.getContext("2d"); 
        ctx.fillStyle = "rgb(245, 245, 245)";
        
        ctx.fillRect(0, 0, firstCanvas.width, firstCanvas.height);

		const { width, height } = firstCanvas;

       	const canvasData = ctx.getImageData(0, 0, width, height);
		const { data } = canvasData


        class Point {
        	constructor (x, y, color) {
            	Object.assign(this, { x, y, color });
            }
            
           draw () {
                const dataPos = 4 * (this.x + this.y * width);
                Array.from({ length: 3 }).fill().forEach((_, i) => {
					data[dataPos + i] = this.color;
               	});

			}

        }

		class Line {
        	constructor (point1, point2, color) { 
           		Object.assign(this, { point1, point2, color });
            }
            draw () {
            	ctx.beginPath();
                ctx.moveTo(point1.x, point1.y);
                ctx.lineTo(point2.x, point2.y);
                ctx.strokeStyle = this.color;
                ctx.closePath();
                ctx.stroke();
            }
        }
		
        const lines = [];
        const obj1 = {};
        obj1.obj1 = obj1;
        obj1.obj2 = { ...obj1 };
        test.innerHTML = obj1.obj2.obj1;
        
        recursive(10, 10, obj1, 0);
        function recursive (x, y, obj, i) {
        	if (i > 10) return;
        	Object.keys(obj).forEach(key, i) {
				const newX = x + i;
                const newY = y + i;
            	const line = new Line({ x, y }, { x: newX , y: newY }, key == "obj1" ? "rgb(255, 0, 0)" : "rgb(0, 255, 0)");
            	lines.push(line)
            }
        }

    </script>
    <script>
    /*const points = Array.from({ length: width }).fill().map((_, x) => {
        	return Array.from({ length: height }).fill().map ((_, y) => {
            	const color = Math.random() < 0.5 ? 255 : 0;
            	return new Point (x, y, color);
			});
		});
        setInterval(() => {
        	//points.forEach(row => row.forEach(p => p.draw()));
			ctx.putImageData(canvasData, 0, 0);
           	test.innerHTML = Date.now();

        }, 100);*/
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>
